<!-- similar_ideas.html -->

{% extends 'thoughts/base.html' %}

{% block content %}

<div class="similar-container">
  <div class="row justify-content-center mb-3">
    <!-- First Row with 2 Idea Parts -->
    <div class="col-md-4 idea-part">
      <div class="idea-content">{{ similar_parts.0.content }}</div>
      <button class="btn btn-primary" onclick="location.href='{% url 'find_similar_seeds' similar_parts.0.id %}'">Find Similar</button>
      <button class="btn btn-secondary" onclick="location.href='{% url 'seed_detail_view' similar_parts.0.seed.id %}?highlight={{ similar_parts.0.id }}'">Open Full Seed</button>
    </div>
    <div class="col-md-4 idea-part">
      <div class="idea-content">{{ similar_parts.1.content }}</div>
      <button class="btn btn-primary" onclick="location.href='{% url 'find_similar_seeds' similar_parts.1.id %}'">Find Similar</button>
      <button class="btn btn-secondary" onclick="location.href='{% url 'seed_detail_view' similar_parts.1.seed.id %}?highlight={{ similar_parts.1.id }}'">Open Full Seed</button>
    </div>
  </div>

  <div class="row justify-content-center mb-3">
    <!-- Second Row with Target Idea in the Middle -->
    <div class="col-md-4 idea-part">
      <div class="idea-content">{{ similar_parts.2.content }}</div>
      <button class="btn btn-primary" onclick="location.href='{% url 'find_similar_seeds' similar_parts.2.id %}'">Find Similar</button>
      <button class="btn btn-secondary" onclick="location.href='{% url 'seed_detail_view' similar_parts.2.seed.id %}?highlight={{ similar_parts.2.id }}'">Open Full Seed</button>
    </div>
    <div class="col-md-4 target-idea">
      <div class="idea-content">{{ target_part.content }}</div>
      <button class="btn btn-secondary" onclick="location.href='{% url 'seed_detail_view' target_part.seed.id %}?highlight={{ target_part.id }}'">Open Full Seed</button>
    </div>
    <div class="col-md-4 idea-part">
      <div class="idea-content">{{ similar_parts.3.content }}</div>
      <button class="btn btn-primary" onclick="location.href='{% url 'find_similar_seeds' similar_parts.3.id %}'">Find Similar</button>
      <button class="btn btn-secondary" onclick="location.href='{% url 'seed_detail_view' similar_parts.3.seed.id %}?highlight={{ similar_parts.3.id }}'">Open Full Seed</button>
    </div>
  </div>

  <div class="row justify-content-center">
    <!-- Third Row with 2 Idea Parts -->
    <div class="col-md-4 idea-part">
      <div class="idea-content">{{ similar_parts.4.content }}</div>
      <button class="btn btn-primary" onclick="location.href='{% url 'find_similar_seeds' similar_parts.4.id %}'">Find Similar</button>
      <button class="btn btn-secondary" onclick="location.href='{% url 'seed_detail_view' similar_parts.4.seed.id %}?highlight={{ similar_parts.4.id }}'">Open Full Seed</button>
    </div>
    <div class="col-md-4 idea-part">
      <div class="idea-content">{{ similar_parts.5.content }}</div>
      <button class="btn btn-primary" onclick="location.href='{% url 'find_similar_seeds' similar_parts.5.id %}'">Find Similar</button>
      <button class="btn btn-secondary" onclick="location.href='{% url 'seed_detail_view' similar_parts.5.seed.id %}?highlight={{ similar_parts.5.id }}'">Open Full Seed</button>
    </div>
  </div>
</div>


<style>
  .similar-container {
    height: 90vh; /* 90% of the viewport height */
    display: flex;
    flex-direction: column;
    justify-content: space-between;
  }

  .row {
    display: flex;
    justify-content: space-between;
    height: 30%; /* Each row will occupy 30% of the container's height */
  }

  .idea-part {
    text-align: center;
    display: flex;
    flex-direction: column;
    justify-content: space-between; /* Ensures content and button are spaced out */
    margin-bottom: 15px;
    overflow: hidden; /* Prevents overflow */
    height: 100%; /* Full height of row division */
  }

  .idea-content {
    overflow-y: auto; /* Scrollable content */
    flex-grow: 1; /* Takes up all available space */
    padding: 10px;
  }

  .target-idea {
    flex-grow: 2; /* Larger area for the target idea */
    border-radius: 0.25rem;
    overflow-y: auto; /* Scrollable if content is too long */
    height: 100%;
    text-align: center;
    display: flex;
    flex-direction: column;
    justify-content: space-between; /* Ensures content and button are spaced out */
  }

  .btn-primary {
    width: 100%; /* Full width button */
  }
</style>

{% endblock %}
